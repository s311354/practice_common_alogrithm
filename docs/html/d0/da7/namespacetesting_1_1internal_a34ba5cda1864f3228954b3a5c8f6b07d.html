<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Common Alogrithm: testing::internal::WideStringToUtf8</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Common Alogrithm
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d0/da7/namespacetesting_1_1internal_a34ba5cda1864f3228954b3a5c8f6b07d.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a id="file_a34ba5cda1864f3228954b3a5c8f6b07d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#file_a34ba5cda1864f3228954b3a5c8f6b07d">&#9670;&nbsp;</a></span>WideStringToUtf8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" target="_blank" href="http://en.cppreference.com/w/cpp/string/basic_string.html">std::string</a> WideStringToUtf8 </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_chars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                                                              {</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordflow">if</span> (num_chars == -1)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    num_chars = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="codeRef" target="_blank" href="http://en.cppreference.com/w/cpp/string/wide/wcslen.html">wcslen</a>(str));</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <a class="codeRef" target="_blank" href="http://en.cppreference.com/w/cpp/io/basic_stringstream.html">::std::stringstream</a> stream;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_chars; ++i) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <a class="code" href="../../d0/da7/namespacetesting_1_1internal_a29df88f24cbbe825f67bbf8e21bfde3f.html#a29df88f24cbbe825f67bbf8e21bfde3f">UInt32</a> unicode_code_point;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (str[i] == L<span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i + 1 &lt; num_chars &amp;&amp; <a class="code" href="../../d0/da7/namespacetesting_1_1internal_a681895f8cc32286211be9889da107394.html#a681895f8cc32286211be9889da107394">IsUtf16SurrogatePair</a>(str[i], str[i + 1])) {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      unicode_code_point = <a class="code" href="../../d0/da7/namespacetesting_1_1internal_ac8ef1bb10cd9e69de939789b759e6bc9.html#ac8ef1bb10cd9e69de939789b759e6bc9">CreateCodePointFromUtf16SurrogatePair</a>(str[i],</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                                                                 str[i + 1]);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      i++;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      unicode_code_point = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d0/da7/namespacetesting_1_1internal_a29df88f24cbbe825f67bbf8e21bfde3f.html#a29df88f24cbbe825f67bbf8e21bfde3f">UInt32</a><span class="keyword">&gt;</span>(str[i]);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    stream &lt;&lt; <a class="code" href="../../d0/da7/namespacetesting_1_1internal_a1259ed57f92a8d860f7fdd6d3c6ead26.html#a1259ed57f92a8d860f7fdd6d3c6ead26">CodePointToUtf8</a>(unicode_code_point);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  }</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d0/da7/namespacetesting_1_1internal_a9743f1da2e8f7a4a8178ec9595a56112.html#a9743f1da2e8f7a4a8178ec9595a56112">StringStreamToString</a>(&amp;stream);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;}</div>
<div class="ttc" id="abasic_stringstream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_stringstream.html">std::stringstream</a></div></div>
<div class="ttc" id="anamespacetesting_1_1internal_a1259ed57f92a8d860f7fdd6d3c6ead26_html_a1259ed57f92a8d860f7fdd6d3c6ead26"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal_a1259ed57f92a8d860f7fdd6d3c6ead26.html#a1259ed57f92a8d860f7fdd6d3c6ead26">testing::internal::CodePointToUtf8</a></div><div class="ttdeci">GTEST_API_ std::string CodePointToUtf8(UInt32 code_point)</div><div class="ttdef"><b>Definition:</b> gtest.cc:1759</div></div>
<div class="ttc" id="anamespacetesting_1_1internal_a29df88f24cbbe825f67bbf8e21bfde3f_html_a29df88f24cbbe825f67bbf8e21bfde3f"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal_a29df88f24cbbe825f67bbf8e21bfde3f.html#a29df88f24cbbe825f67bbf8e21bfde3f">testing::internal::UInt32</a></div><div class="ttdeci">TypeWithSize&lt; 4 &gt;::UInt UInt32</div><div class="ttdef"><b>Definition:</b> gtest-port.h:2495</div></div>
<div class="ttc" id="anamespacetesting_1_1internal_a681895f8cc32286211be9889da107394_html_a681895f8cc32286211be9889da107394"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal_a681895f8cc32286211be9889da107394.html#a681895f8cc32286211be9889da107394">testing::internal::IsUtf16SurrogatePair</a></div><div class="ttdeci">bool IsUtf16SurrogatePair(wchar_t first, wchar_t second)</div><div class="ttdef"><b>Definition:</b> gtest.cc:1794</div></div>
<div class="ttc" id="anamespacetesting_1_1internal_a9743f1da2e8f7a4a8178ec9595a56112_html_a9743f1da2e8f7a4a8178ec9595a56112"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal_a9743f1da2e8f7a4a8178ec9595a56112.html#a9743f1da2e8f7a4a8178ec9595a56112">testing::internal::StringStreamToString</a></div><div class="ttdeci">std::string StringStreamToString(::std::stringstream *ss)</div><div class="ttdef"><b>Definition:</b> gtest.cc:1982</div></div>
<div class="ttc" id="anamespacetesting_1_1internal_ac8ef1bb10cd9e69de939789b759e6bc9_html_ac8ef1bb10cd9e69de939789b759e6bc9"><div class="ttname"><a href="../../d0/da7/namespacetesting_1_1internal_ac8ef1bb10cd9e69de939789b759e6bc9.html#ac8ef1bb10cd9e69de939789b759e6bc9">testing::internal::CreateCodePointFromUtf16SurrogatePair</a></div><div class="ttdeci">UInt32 CreateCodePointFromUtf16SurrogatePair(wchar_t first, wchar_t second)</div><div class="ttdef"><b>Definition:</b> gtest.cc:1800</div></div>
<div class="ttc" id="awcslen_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/string/wide/wcslen.html">std::wcslen</a></div><div class="ttdeci">T wcslen(T... args)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../#l01759">testing::internal::CodePointToUtf8()</a>, <a class="el" href="../../#l01800">testing::internal::CreateCodePointFromUtf16SurrogatePair()</a>, <a class="el" href="../../#l01794">testing::internal::IsUtf16SurrogatePair()</a>, and <a class="el" href="../../#l01982">testing::internal::StringStreamToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../#l01848">String::ShowWideCString()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/da7/namespacetesting_1_1internal_a34ba5cda1864f3228954b3a5c8f6b07d_a34ba5cda1864f3228954b3a5c8f6b07d_cgraph.png" border="0" usemap="#ad0/da7/namespacetesting_1_1internal_a34ba5cda1864f3228954b3a5c8f6b07d_a34ba5cda1864f3228954b3a5c8f6b07d_cgraph" alt=""/></div>
<!-- MAP 2 -->
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/da7/namespacetesting_1_1internal_a34ba5cda1864f3228954b3a5c8f6b07d_a34ba5cda1864f3228954b3a5c8f6b07d_icgraph.png" border="0" usemap="#ad0/da7/namespacetesting_1_1internal_a34ba5cda1864f3228954b3a5c8f6b07d_a34ba5cda1864f3228954b3a5c8f6b07d_icgraph" alt=""/></div>
<!-- MAP 3 -->
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_3fc1520d95d269c1cc96c54f57f8da6b.html">googletest</a></li><li class="navelem"><a class="el" href="../../dir_413744d01ad3bfc6a23a3cf4ea72332c.html">src</a></li><li class="navelem"><a class="el" href="../../df/d5b/gtest_8cc.html">gtest.cc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
